* map_editor
** [5/5] BUGS
*** DONE ALH semble ne pas prendre plus d'un underworld
    tester avec UDN
    en fait si... mais il faut que les niveaux soient bien numérotés.
*** DONE Report generation
**** Pas de difference entre les underworld
underworld et underworld
2 <underworld> et 3 <underworld>
==> FIX: il faut changer Globals-UNDERWORLD_LEVELS et UNDERDEEP_LEVELS dans rules.h
*** DONE Advisor ne sait pas lire les reports de la faction 1
*** DONE Les reports fait avec standard101 et standard221 ne sont pas les mêmes.
*** DONE Abyss : calcul des distances interplanaires dans
**** aregion.cpp => changé
**** spells.cpp = unchanged
*** Pas de populations dans les nouvelles Abysses
** [1/1] FIXES
*** DONE Ajouter les monstres !
après la création d'un niveau...
*** dans standard/rules.cpp
**** ligne 163 : changer le NOMBRE de niveau de underworld
**** ligne 164 : changer le NOMBRE de niveay de underdeep
**** ligne 165 : changer le NOMBRE d'Abysses
* see_world
Un outils pour visualiser TERRAIN, RACE, ITEMS et autres.
Et leurs liens.

** TODO avant/après Game::ModifyTablesPerRumeset() (cf aussi standard/extra.cpp
* ADD
** Mid-game town (gamedefs.h)
// Enable Creation of Towns mid-game, migration and population dynamics?
	// NOTE: not implemented yet.
	int DYNAMIC_POPULATION;
** Ajouter un MONSTRE
*** 1) dans gamedata.h
Ajouter un I_XXXX unique pour ce monstre => I_BALROG
*** 2) ItemType dans gamedata.cpp
Ajouter une entrée ItemType (dans le même ordre) 
// Table of items
//
// name, plural, abbr,
// flags,
// pSkill, pLevel, pMonths, pOutput, pInput array
// mSkill, mLevel, mOutput, mInput array
// weight, type, baseprice, combat,
// walk, ride, fly, swim, speed
// hitchItem, hitchwalk
// mult_item, mult_val, max_inventory
// escape, esc_skill, esc_val
=> est-ce qu'on peut échapper à un Balrog ou est-ce que le BALROG peut s'échapper ?
// granted skill, granted from array, minGrant, maxGrant
{"balrog","balrogs","BALR",                            
	 ItemType::NOTRANSPORT,
	 NULL,0,0,0, {{-1,0},{-1,0},{-1,0},{-1,0}},
	 "SUBA",1,20, {{-1,0},{-1,0},{-1,0},{-1,0}},
	 250, IT_MONSTER | IT_DEMON, 50,1,
	 300,300,300,0,6,
	 -1,0,
	 -1,0, 1,
	 ItemType::ESC_LEV_QUAD | ItemType::LOSE_LINKED, "SUBA", 4,
	 "", { "", "", "", "" }, 0, 0},
*** 3) MonType dans gamedata.cpp
Ajouter une entrée MonType
// Table of monsters.
//
// attackLevel, defense array => def contre divers type d'attaque (enum {
	ATTACK_COMBAT,
	ATTACK_ENERGY,
	ATTACK_SPIRIT,
	ATTACK_WEATHER,
	ATTACK_RIDING,
	ATTACK_RANGED,)
// numAttacks, hits, regen,
// tactics, stealth, obs
// special, specialLevel,
// silver spoiltype, hostile, number, name, abbr
{6,{6,6,6,6,5,0},
200,200,0,
5,5,5,
"hellfire", 6,
50000,IT_MAGIC,100,1,"Balrog", "BALR"},
*** 4) LAIR ou Wandering Monster dans gamedata.cpp
Si c'est un LAIR monster, il faut au moins trouver un type de ObjectType qui 
mentionne ce Monstre
// name,
// flags,
// protect,capacity,sailors,maxMages
// item,cost,skill,level,
// max maintenance, max monthly decay, maintenance factor
// monster, productionaided
// defencearray (ATTACK_COMBAT, ATTACK_ENERGY, ATTACK_SPIRIT, 
//						  ATTACK_WEATHER, ATTACK_RIDING and ATTACK_RANGED)
//

// Added Abyss Lair
	{"Black Keep",
	 ObjectType::NOMONSTERGROWTH | ObjectType::NEVERDECAY,
	 0,0,0,0,
	 -1,0,NULL,0,
	 0,0,0,
	 I_BALROG,-1,
	 {0,0,0,0,0,0}},

Et il faudra aussi dire dans quel terrain on peut trouver ce type de LAIR. Par exemple pour la caverne du dragon (O_CAVE), on peut (entre autre) le trouver en deep_forest
{"deepforest", "deepforest", 'd', R_DFOREST,
	 TerrainType::FLYINGMOUNTS,
	 100,11,12,3,
	 {{I_WOOD,100,10},{I_STONE,100,10},{I_IRON,100,10},{I_MUSHROOM,100,20},
	  {I_ROUGHGEM,10,10},{-1,0,0},{-1,0,0}},
	 {I_DROWMAN,I_UNDERDWARF,I_ORC,I_GREYELF},
	 {-1,-1,-1},
	 15,I_DEMON,I_DRAGON,I_TROLL,
	 25,{O_RUIN,O_CAVE,O_DEMONPIT,O_MAGETOWER,O_ILAIR,O_DARKTOWER}},


Si c'est un Wandering Monster, il faut des types de Terrain où il peut apparaître.
Par exemple pour le loup WOLF

// name, type_name, similar_type,
// flags,
// pop, wages, economy, movepoints,
// product array
// normal races array
// coastal races array
// wmonfreq, smallmon, bigmon, humanoid,
// lairChance, lair array
{"forest", "forest", 'f', R_FOREST,
	 TerrainType::FLYINGMOUNTS,
	 400,12,20,2,
	 {{I_WOOD,100,20},{I_FUR,100,10},{I_HERBS,100,10},{I_IRONWOOD,25,5},
	  {I_YEW,25,5},{-1,0,0},{-1,0,0}},
	 {I_WOODELF,I_VIKING,-1,-1},
	 {I_SEAELF,-1,-1},
	 2,I_WOLF,I_TRENT,I_KOBOLD,
	 10,{O_LAIR,O_RUIN,O_CRYPT,-1,-1,-1}},
*** 5) attaque spéciale dans gamedata.cpp
Le Balrong utilise du "hellfire", il y a une entrée dans SpecialType
// SPECIAL_HELLFIRE
	{"hellfire", "hellfire",
	 0,
	 {-1, -1, -1, -1, -1},
	 {-1, -1, -1, -1, -1, -1, -1},
	 {NULL, NULL, NULL},
	 SpecialType::FX_DAMAGE|SpecialType::FX_USE_LEV,
	 {-1, -1, -1, -1},
	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
	 "a non-shield spell",
	 {{ATTACK_ENERGY,2,25,
	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
	  {-1, 0, 0, 0, 0, 0},
	  {-1, 0, 0, 0, 0, 0},
	  {-1, 0, 0, 0, 0, 0}},
	 "blasts the enemy with Hellfire", "killing ", ""},


** Ajouter un OBJET

** ITEM ItemType *ItemDefs
// name, plural, abbr,
// flags,
ItemType::DISABLED | ItemType::NOTRANSPORT | ItemType::NOMARKET [ex:SILVER] | ItemType::CANTGIVE
// pSkill, pLevel, pMonths, pOutput, pInput array
Skill pour produire
GRAI = "FARM",1,1,1, {{-1,0}, {-1,0},{-1,0},{-1,0}},
RAFT = "SHIP",1,10,1, {{I_WOOD,1}, {-1,0},{-1,0},{-1,0}}, => 1 month, 10 WOOD
// mSkill, mLevel, mOutput, mInput array
=> magical skill to produce
// weight, type, baseprice, combat,
type=IT_MAN | IT_LEADER | IT_MOUNT | IT_MONEY | IT_NORMAL | IT_FOOD | IT_ADVANCED | IT_ANIMAL | IT_UNDEAD | IT_DEMON | IT_MAGIC | IT_BATTLE | IT_MAGEONLY | IT_NEVER_SPOIL
combat=starting level
// walk, ride, fly, swim, speed
ex=15,0,0,0,2 pour LEAD
// hitchItem, hitchwalk
=> force de trait
WAGO:I_HORSE,250,
// mult_item, mult_val, max_inventory => item qui multiplient la production
GRAI:I_BAG,2, 0,
// escape, esc_skill, esc_val
SKEL:ItemType::LOSS_CHANCE, NULL, 10
IMP:ItemType::ESC_NUM_SQUARE | ItemType::ESC_LEV_SQUARE | ItemType::LOSE_LINKED, "SUIM", 16
// granted skill, granted from array, minGrant, maxGrant
Gate Crystal GTCR:"GATE", { "MANI", "PATT", "FORC", "SPIR" }, 1, 3}

** MONSTER MonType *MonDefs
//
// Table of monsters.
//
// attackLevel, defense array
// numAttacks, hits, regen,
// tactics, stealth, obs
// special, specialLevel,
// silver spoiltype, hostile, number, name, abbr
{6,{6,6,6,6,5,0},
200,200,0,
5,5,5,
"hellfire", 6,
50000,IT_MAGIC,100,1,"Balrog", "BALR"},
** WEAPON WeaponType *WeaponDefs
//
// Table of weapons.
//
//  item abbr,
//  flags,
//  baseSkill, orSkill,
//  weapClass, attackType, numAttacks
//  attackBonus, defenseBonus, mountBonus
** ARMOR ArmorType *ArmorDefs
//
// Table of armor.
//
// abbr, flags, from, slashChance, pierceChance, crushChance, cleaveChance,
// armorpiercingChance, energyChance, spiritChance, weatherChance;
** MOUNT MountType *MountDefs
// Table of mounts
// skill,minBonus,maxBonus,maxHamperedBonus

// MOUNT_HORSE
{ "HORS", "RIDI", 1, 3, 3, NULL, 0},
** BATTLE ITEMS 
// BATTLE_FSWORD BattleItemType *BattleItemDefs
{"FSWO", BattleItemType::SPECIAL,"fireball", 1 },
** SKILL SkillType *SkillDefs
// Table of skills.
//
//
// name, abbr, cost,
// flags
// special, rangeindex
// skill dependancy array
//
{"portal lore","PORT",100,
SkillType::MAGIC | SkillType::CAST,
NULL, "rng_portal",
{{"GATE",3},{"FARS",1},{NULL,0}}},
** OBJECT ObjectType *ObjectDefs
// name,
// flags,
// protect,capacity,sailors,maxMages
// item,cost,skill,level,
// max maintenance, max monthly decay, maintenance factor
// monster, productionaided
// defencearray (ATTACK_COMBAT, ATTACK_ENERGY, ATTACK_SPIRIT, 
//						  ATTACK_WEATHER, ATTACK_RIDING and ATTACK_RANGED)
//
{"Cog",
         ObjectType::NEVERDECAY | ObjectType::CANENTER | ObjectType::CANMODIFY | ObjectType::DISABLED,
	 0,500,6,0,
	 -1,0,NULL,0,
	 0,0,0,
	 -1,-1,
	 {0,0,0,0,0,0}},
{"Cave",
	 ObjectType::NEVERDECAY,
	 0,0,0,0,
	 -1,0,NULL,0,
	 0,0,0,
	 I_DRAGON,-1,
	 {0,0,0,0,0,0}},
{"Farm",
	 ObjectType::CANENTER | ObjectType::CANMODIFY,
	 0,0,0,0,
	 I_WOOD_OR_STONE,10,"FARM",3,
	 5,1,2,
	 -1,I_GRAIN,
	 {0,0,0,0,0,0}},
** TERRAIN TerrainType *TerrainDefs
// name, type_name, similar_type,
// flags,
// pop, wages, economy, movepoints,
// product array
// normal races array
// coastal races array
// wmonfreq, smallmon, bigmon, humanoid,
// lairChance, lair array
{"plain", "plain", 'p', R_PLAIN,
	 TerrainType::RIDINGMOUNTS | TerrainType::FLYINGMOUNTS,
	 800,14,40,1,
	 {{I_HORSE,100,20},{I_WHORSE,25,5},{-1,0,0},{-1,0,0},
	  {-1,0,0},{-1,0,0},{-1,0,0}},
	 {I_PLAINSMAN,I_NOMAD,I_HIGHELF,-1},
	 {I_VIKING,I_SEAELF,-1},
	 1,I_LION,-1,I_CENTAUR,
	 10,{O_RUIN,O_CRYPT,O_MAGETOWER,-1,-1,-1}},
** SPECIAL SpecialType *SpecialDefs
// SPECIAL_HELLFIRE
	{"hellfire", "hellfire",
	 0,
	 {-1, -1, -1, -1, -1},
	 {-1, -1, -1, -1, -1, -1, -1},
	 {NULL, NULL, NULL},
	 SpecialType::FX_DAMAGE|SpecialType::FX_USE_LEV,
	 {-1, -1, -1, -1},
	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
	 "a non-shield spell",
	 {{ATTACK_ENERGY,2,25,
	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0}, // type,minum,value,flags,defclass 
	  {-1, 0, 0, 0, 0, 0},
	  {-1, 0, 0, 0, 0, 0},
	  {-1, 0, 0, 0, 0, 0}},
	 "blasts the enemy with Hellfire", "killing ", ""},
** EFFECTS EffectType *EffectDefs
// EFFECT_FEAR
	{"fear", -2,
	 {{ATTACK_COMBAT, -2}, {ATTACK_RIDING, -2}, {-1, 0}, {-1, 0}},
* [0/2] QuestEditor
** TODO passer MonsterView et ItemView en all_data.h
** QUEST
*** Types
**** SLAY
int target (unit number)
**** HARVEST
Item objective // produire cet objet
int regionnum  // dans telle région
**** BUILD
int bulding    // type d'objet ObjectDefs[q->building] or NO_OBJECT
AString regioname
**** VISIT
un type de building dans différentes régions ?
**** DEMOLISH
int target    // num batiment à détruire
int regionum  // dans quelle région
**** TODO DELIVER 

*** Check => various .cpp de engine (battle,monthorder,runorders)
*** Format
class Quest : public AListElem
{
	public:
		Quest();
		~Quest();

		enum {
			SLAY,
			HARVEST,
			BUILD,
			VISIT,
			DELIVER,
			DEMOLISH
		};
		int	type;
		int	target;
		Item	objective;
		int	building;
		int	regionnum;
		AString	regionname;
		set<string> destinations;
		AList	rewards;
};
** MONSTER
*** [12/14] Item
**** TODO Faire une doc pour expliquer
**** DONE Lire ../gamedata.h/cpp et sauver dans gamedata.h/cpp_new
**** DONE Pourquoi pas relu par Editor ???
=> il faut recompiler
=> compile avec make clean ou rebuild
**** DONE DJIN transformé en UNDEAD dans CRYPT !!
=> compile avec make clean ou rebuild
**** TODO write with new escape
**** Bizarrerie dans Write
**** DONE str_enum : I_XXXX
	 Si c'est un monstre phantasmagorique (ILLUSION), XXXX est de la forme IYYYY où I_YYYY est l'indicatif du vrai monstre sans illusion. (ex I_BALROG et I_IBALROG)
**** name, names : pas d'incidence. Singulier et pluriel.
**** DONE abr : 4 lettre max (3 existe). Pas de doublons
**** DONE Production magique
mSkill, mLevel,
Vérifier que c'est un skill (??) qui existe
mLevel : le niveau du skill nécessaire pour l'invocation.
***** DONE Vérifier que utilisable dans le programme
=> non! modifier/ajouter dans spell.cpp et skill.cpp
**** Mouvement : encombrement maxi pour ce type de mouvement
**** max_inventory : combien on peut en avoir dans son inventaire ?? 0=infty
**** DONE Escape => changer les widget quand on fait set monster
**** DONE Escape => comment on write quand no-escape
**** DONE Escape. => exclusif flags !!!!!!
Voir items.h pour exclusif
Voir game.cpp pour calcul de chances
void Game::MonsterCheck(ARegion *r, Unit *u)
***** DONE si LIN/SQUARE/.../ => pas les autres flags
***** LOSS_CHANCE ( + HAS_SKILL)
losses = (monster->num + random(esc_val)) / esc_val => nb monstres perdus
losses vaut 0 si a le bon skill au bon niveau
***** HAS_SKILL
losses all si n'a pas le skill
***** ESC_LEV_*
si pas level, chance=10000
si level :
   top=num (ou num*num si ESC_NUM_SQUARE)
   bottom = level (*level (*level...) (ou level=1)
   bottom = bottom * esc_val
   chance = (top * 10000) / bottom
si LOSE_LINKED, peut perdre autres objets du même type (IT_UNDEAD), la chance sera la plus grande de tous ce genre d'objets
perte si chance > random(10000)
Ex Balrog: top=1, bottom=(5*5*5*5=125*5=625)*4, chance = 4 sur 10000
***** DONE si choisi skill NULL alors que ESC_LEV_LINEAR (and level=0)
***** DONE enable/disable LOSE_LINKED and NUM si pas esc_lev_xxx
**** DONE special : list parmi ce qui existe
**** DONE spoil : exclusif (??)
**** DONE abbr (de MonType) => raccord avec abr ?, iTRUC pour illusion
*** WANDERING Monster
unit->type = U_WMON.
*** Reading and Running the game
**** Read Faction => OK

** STEAL/ASSASS
*** Faction::CanSee(ARegion* r, Unit* u, int practice)
Est-ce que l'Unit u est visible. (par la Faction en cours, j'imagine)
OUI si
 - même faction
 - REVEAL_FACTION ou REVEL_UNIT ou GUARD
 - pour chaque UNITS de chaque OBJECT
 - si Unit pas dans DUMMY
 - si unit_temp de la faction this a OBSE suffisant

**** target != GUARD, WMONSTAR or GUARDMAGE
**** 1 man unit
**** personne peut voir de Faction(target), Ally or Guard

*** steal u vers tar
** TODO Gerer la création/desruction de nouveaux ITEMS pour ses enums
=> enum_data.h/cpp
** [1/1] parse_gamedata.cpp
*** DONE split line pour lire itemtype
IT_XXXX = Ox0972
** [12/14] ITEMS => se fait dans QuestEditor/test
*** DONE nouvelle classe to build gamedata.h/cpp
*** DONE cette classe pourrait contenir toutes les structures : monstre, items, ...
*** DONE read items
*** DONE add item
*** DONE add_weapon to item if needed
*** DONE switch flag (weapon to armor)
*** DONE clean up item (del weapon if not flags)
*** DONE write items
*** DONE read weapons
*** DONE read armors
*** DONE read mount
*** DONE read battle
*** TODO check Granted Skills, mult_skills etc
*** TODO display Item
*** as ItemDefs
**** CANTGIVE = False
**** IT_MAN = False
**** IT_MONSTER = False
**** IT_ILLUSION = False
**** IT_UNDEAD = False
**** IT_DEMON = False
**** IT_LEADER = False
**** IT_MONEY = False
**** IT_ANIMAL = False
**** IT_ALWAYS_SPOIL = False
**** LOSE_LINKED = False
**** HAS_SKILL = False
**** ESC_* = False
**** esc_skill = NULL
**** esc_val = 0
*** Table of Weapons : WeaponDefs
*** Table of Armor : ArmorDefs
*** MountDefs
*** BattleItemDefs
*** weapon XOR armor XOR mount

* [21/23] EDITOR
** DONE sauvegarde du nom dans l'éditeur d'unité
Spliter après la parenthèse...
** TODO refresh de RegViewer après changement d'une unité
** DONE add Object
ARegion::MakeLair(int t)
Setup()->LairCheck()->MakeLair()
** DONE del Object
Game::Do1Destroy(ARegion *r, Object *o, Unit *u)
** DONE del Unit
Game::DeleteEmptyInRegion(ARegion *region)
u->MoveUnit(0);
delete u ???
** change type Object
** DONE [2/3] Find a given Region Game::EditGameFindRegion()
*** TODO Un dialogue existe, il faut juste l'intégrer.
*** DONE x,y,z
*** DONE num
** DONE Find a given Unit unit->object->region
** DONE [/] Sauver
** DONE [2/2] déplacer les shafts
*** DONE ADD shaft
*** DONE DEL Shaft
** DONE [/] déplacer les gates
** DONE [/] Changer de terrain
** DONE Changer de race
** DONE [/] Renommer, changer les noms
** DONE [/] créer des unités
** DONE [/] créer des mobs et les placer
** DONE [0/1] Ville
*** TODO Market
** DONE [/] Labyrinthe dans underword
*** Ex1 Underdeep
ATTACHED name=underdeep
0:193=[0,0,3]   + 0:nil 1:nil 2:197=[1,1] 3:201=[0,2] 4:200=[7,1] 5:nil 
1:194=[2,0,3]   + 0:nil 1:nil 2:198=[3,1] 3:202=[2,2] 4:197=[1,1] 5:nil 
2:195=[4,0,3]   + 0:nil 1:nil 2:199=[5,1] 3:nil 4:nil 5:nil 
3:196=[6,0,3]   + 0:nil 1:nil 2:nil 3:204=[6,2] 4:nil 5:nil 
4:197=[1,1,3]   + 0:nil 1:194=[2,0] 2:202=[2,2] 3:nil 4:201=[0,2] 5:193=[0,0] 
5:198=[3,1,3]   + 0:nil 1:nil 2:203=[4,2] 3:nil 4:202=[2,2] 5:194=[2,0] 
6:199=[5,1,3]   + 0:nil 1:nil 2:nil 3:207=[5,3] 4:203=[4,2] 5:195=[4,0] 
7:200=[7,1,3]   + 0:nil 1:193=[0,0] 2:201=[0,2] 3:208=[7,3] 4:nil 5:nil 
8:201=[0,2,3]   + 0:193=[0,0] 1:197=[1,1] 2:205=[1,3] 3:nil 4:208=[7,3] 5:200=[7,1] 
9:202=[2,2,3]   + 0:194=[2,0] 1:198=[3,1] 2:206=[3,3] 3:nil 4:nil 5:197=[1,1] 
10:203=[4,2,3]   + 0:nil 1:199=[5,1] 2:207=[5,3] 3:nil 4:206=[3,3] 5:198=[3,1] 
11:204=[6,2,3]   + 0:196=[6,0] 1:nil 2:208=[7,3] 3:nil 4:nil 5:nil 
12:205=[1,3,3]   + 0:nil 1:nil 2:nil 3:nil 4:nil 5:201=[0,2] 
13:206=[3,3,3]   + 0:nil 1:203=[4,2] 2:nil 3:nil 4:nil 5:202=[2,2] 
14:207=[5,3,3]   + 0:199=[5,1] 1:nil 2:nil 3:nil 4:nil 5:203=[4,2] 
15:208=[7,3,3]   + 0:200=[7,1] 1:201=[0,2] 2:nil 3:nil 4:nil 5:204=[6,2]
*** Ex2 UnderWorld
ATTACHED name=underworld
0:129=[0,0,2]   + 0:nil 1:nil 2:nil 3:nil 4:144=[15,1] 5:nil 
1:130=[2,0,2]   + 0:nil 1:nil 2:138=[3,1] 3:nil 4:137=[1,1] 5:nil 
2:131=[4,0,2]   + 0:nil 1:nil 2:nil 3:147=[4,2] 4:138=[3,1] 5:nil 
3:132=[6,0,2]   + 0:nil 1:nil 2:140=[7,1] 3:148=[6,2] 4:139=[5,1] 5:nil 
4:133=[8,0,2]   + 0:nil 1:nil 2:nil 3:nil 4:140=[7,1] 5:nil 
5:134=[10,0,2]   + 0:nil 1:nil 2:nil 3:150=[10,2] 4:nil 5:nil 
6:135=[12,0,2]   + 0:nil 1:nil 2:nil 3:151=[12,2] 4:nil 5:nil 
7:136=[14,0,2]   + 0:nil 1:nil 2:nil 3:152=[14,2] 4:nil 5:nil 
8:137=[1,1,2]   + 0:nil 1:130=[2,0] 2:146=[2,2] 3:nil 4:nil 5:nil 
9:138=[3,1,2]   + 0:nil 1:131=[4,0] 2:nil 3:nil 4:146=[2,2] 5:130=[2,0] 
10:139=[5,1,2]   + 0:nil 1:132=[6,0] 2:148=[6,2] 3:155=[5,3] 4:147=[4,2] 5:nil 
11:140=[7,1,2]   + 0:nil 1:133=[8,0] 2:nil 3:156=[7,3] 4:148=[6,2] 5:132=[6,0] 
12:141=[9,1,2]   + 0:nil 1:nil 2:150=[10,2] 3:157=[9,3] 4:nil 5:nil 
13:142=[11,1,2]   + 0:nil 1:nil 2:nil 3:158=[11,3] 4:150=[10,2] 5:nil 
14:143=[13,1,2]   + 0:nil 1:nil 2:152=[14,2] 3:159=[13,3] 4:nil 5:nil 
15:144=[15,1,2]   + 0:nil 1:129=[0,0] 2:nil 3:160=[15,3] 4:nil 5:nil 
16:145=[0,2,2]   + 0:nil 1:nil 2:153=[1,3] 3:161=[0,4] 4:160=[15,3] 5:nil 
17:146=[2,2,2]   + 0:nil 1:138=[3,1] 2:154=[3,3] 3:162=[2,4] 4:153=[1,3] 5:137=[1,1] 
18:147=[4,2,2]   + 0:131=[4,0] 1:139=[5,1] 2:155=[5,3] 3:163=[4,4] 4:154=[3,3] 5:nil 
19:148=[6,2,2]   + 0:132=[6,0] 1:140=[7,1] 2:156=[7,3] 3:164=[6,4] 4:155=[5,3] 5:139=[5,1] 
20:149=[8,2,2]   + 0:nil 1:nil 2:157=[9,3] 3:nil 4:nil 5:nil 
21:150=[10,2,2]   + 0:134=[10,0] 1:142=[11,1] 2:158=[11,3] 3:166=[10,4] 4:nil 5:141=[9,1] 
22:151=[12,2,2]   + 0:135=[12,0] 1:nil 2:nil 3:167=[12,4] 4:nil 5:nil 
23:152=[14,2,2]   + 0:136=[14,0] 1:nil 2:nil 3:nil 4:159=[13,3] 5:143=[13,1] 
24:153=[1,3,2]   + 0:nil 1:146=[2,2] 2:nil 3:169=[1,5] 4:161=[0,4] 5:145=[0,2] 
25:154=[3,3,2]   + 0:nil 1:147=[4,2] 2:163=[4,4] 3:170=[3,5] 4:nil 5:146=[2,2] 
26:155=[5,3,2]   + 0:139=[5,1] 1:148=[6,2] 2:164=[6,4] 3:nil 4:nil 5:147=[4,2] 
27:156=[7,3,2]   + 0:140=[7,1] 1:nil 2:nil 3:nil 4:nil 5:148=[6,2] 
28:157=[9,3,2]   + 0:141=[9,1] 1:nil 2:166=[10,4] 3:173=[9,5] 4:165=[8,4] 5:149=[8,2] 
29:158=[11,3,2]   + 0:142=[11,1] 1:nil 2:167=[12,4] 3:nil 4:166=[10,4] 5:150=[10,2] 
30:159=[13,3,2]   + 0:143=[13,1] 1:152=[14,2] 2:nil 3:175=[13,5] 4:167=[12,4] 5:nil 
31:160=[15,3,2]   + 0:144=[15,1] 1:145=[0,2] 2:161=[0,4] 3:nil 4:168=[14,4] 5:nil 
32:161=[0,4,2]   + 0:145=[0,2] 1:153=[1,3] 2:169=[1,5] 3:nil 4:176=[15,5] 5:160=[15,3] 
33:162=[2,4,2]   + 0:146=[2,2] 1:nil 2:170=[3,5] 3:178=[2,6] 4:169=[1,5] 5:nil 
34:163=[4,4,2]   + 0:147=[4,2] 1:nil 2:171=[5,5] 3:179=[4,6] 4:nil 5:154=[3,3] 
35:164=[6,4,2]   + 0:148=[6,2] 1:nil 2:nil 3:180=[6,6] 4:171=[5,5] 5:155=[5,3] 
36:165=[8,4,2]   + 0:nil 1:157=[9,3] 2:173=[9,5] 3:nil 4:172=[7,5] 5:nil 
37:166=[10,4,2]   + 0:150=[10,2] 1:158=[11,3] 2:nil 3:182=[10,6] 4:173=[9,5] 5:157=[9,3] 
38:167=[12,4,2]   + 0:151=[12,2] 1:159=[13,3] 2:175=[13,5] 3:183=[12,6] 4:174=[11,5] 5:158=[11,3] 
39:168=[14,4,2]   + 0:nil 1:160=[15,3] 2:176=[15,5] 3:nil 4:nil 5:nil 
40:169=[1,5,2]   + 0:153=[1,3] 1:162=[2,4] 2:178=[2,6] 3:185=[1,7] 4:177=[0,6] 5:161=[0,4] 
41:170=[3,5,2]   + 0:154=[3,3] 1:nil 2:179=[4,6] 3:186=[3,7] 4:178=[2,6] 5:162=[2,4] 
42:171=[5,5,2]   + 0:nil 1:164=[6,4] 2:180=[6,6] 3:187=[5,7] 4:179=[4,6] 5:163=[4,4] 
43:172=[7,5,2]   + 0:nil 1:165=[8,4] 2:181=[8,6] 3:nil 4:nil 5:nil 
44:173=[9,5,2]   + 0:157=[9,3] 1:166=[10,4] 2:182=[10,6] 3:189=[9,7] 4:181=[8,6] 5:165=[8,4] 
45:174=[11,5,2]   + 0:nil 1:167=[12,4] 2:nil 3:190=[11,7] 4:182=[10,6] 5:nil 
46:175=[13,5,2]   + 0:159=[13,3] 1:nil 2:nil 3:nil 4:183=[12,6] 5:167=[12,4] 
47:176=[15,5,2]   + 0:nil 1:161=[0,4] 2:177=[0,6] 3:nil 4:nil 5:168=[14,4] 
48:177=[0,6,2]   + 0:nil 1:169=[1,5] 2:185=[1,7] 3:nil 4:nil 5:176=[15,5] 
49:178=[2,6,2]   + 0:162=[2,4] 1:170=[3,5] 2:186=[3,7] 3:nil 4:nil 5:169=[1,5] 
50:179=[4,6,2]   + 0:163=[4,4] 1:171=[5,5] 2:187=[5,7] 3:nil 4:nil 5:170=[3,5] 
51:180=[6,6,2]   + 0:164=[6,4] 1:nil 2:nil 3:nil 4:187=[5,7] 5:171=[5,5] 
52:181=[8,6,2]   + 0:nil 1:173=[9,5] 2:189=[9,7] 3:nil 4:188=[7,7] 5:172=[7,5] 
53:182=[10,6,2]   + 0:166=[10,4] 1:174=[11,5] 2:190=[11,7] 3:nil 4:189=[9,7] 5:173=[9,5] 
54:183=[12,6,2]   + 0:167=[12,4] 1:175=[13,5] 2:191=[13,7] 3:nil 4:nil 5:nil 
55:184=[14,6,2]   + 0:nil 1:nil 2:192=[15,7] 3:nil 4:nil 5:nil 
56:185=[1,7,2]   + 0:169=[1,5] 1:nil 2:nil 3:nil 4:nil 5:177=[0,6] 
57:186=[3,7,2]   + 0:170=[3,5] 1:nil 2:nil 3:nil 4:nil 5:178=[2,6] 
58:187=[5,7,2]   + 0:171=[5,5] 1:180=[6,6] 2:nil 3:nil 4:nil 5:179=[4,6] 
59:188=[7,7,2]   + 0:nil 1:181=[8,6] 2:nil 3:nil 4:nil 5:nil 
60:189=[9,7,2]   + 0:173=[9,5] 1:182=[10,6] 2:nil 3:nil 4:nil 5:181=[8,6] 
61:190=[11,7,2]   + 0:174=[11,5] 1:nil 2:nil 3:nil 4:nil 5:182=[10,6] 
62:191=[13,7,2]   + 0:nil 1:nil 2:nil 3:nil 4:nil 5:183=[12,6] 
63:192=[15,7,2]   + 0:nil 1:nil 2:nil 3:nil 4:nil 5:184=[14,6]
** DONE [/] underdeep
** DONE [2/2] multi selection (CTRL)
*** DONE smaller hex for selection or semi-transparent red
*** DONE diff between cursor and selection -> circle ??
** DONE [/] key/arrow navigation
** DONE [/] Décaler les symboles de gate, tow, shaft
** DONE Memory for cursor
** TODO [/] Mouse => cursor à l'ext de la carte
* Atlantis editor
** 1) Find a region (x, y z)
*** 1) Edit Objects
Game::EditGameRegionObjects( ARegion *pReg )
**** [a] [object type] [dir] to add object
**** [d] [index] to delete object
**** [n] [index] [name] to rename object
*** 2) Edit Terrain
Game::EditGameRegionTerrain( ARegion *pReg )
Pb with void ARegion::SetIncome()
called from 
 - void ARegion::UpdateEditRegion()
 - void ARegion::SetupEditRegion()
   - void Game::EditGameRegionTerrain( ARegion *pReg ) 
   - [map_access.h]
 - void ARegion::PostTurn(ARegionList *pRegs)
**** [t] [terrain type] to modify terrain type
**** [r] [race] to modify local race (None or0 to unset)
**** [w] [maxwages] to modify local wages
**** [p] to regenerate products according to terrain type
**** [dg] to delete the gate in this region
**** [ag] to add a gate to this region
**** [n] [name] to modify region name
**** [town] to regenerate/add a town
**** [deltown] to remove a town
**** [tn] [name] to rename a town
** 2) Find a Unit (number)
Game::EditGameUnit(Unit *pUnit)
Unit *pUnit = GetUnit(num);
*** 1) Edit items...
Game::EditGameUnitItems(Unit *pUnit)
**** [item] [number] to update an item. 
add if item new, remove if number is O
*** 2) Edit skills...
Game::EditGameUnitSkills(Unit *pUnit)
**** [skill] [days] to update a skill.
add if skill new, remove if number is O
*** 3) Move unit...
Game::EditGameUnitMove(Unit *pUnit)
*** 4) Edit details...
**** [f] [num] to change the unit's faction
AList factions;
Faction *fac = GetFaction(&factions, fnum);
if (fac) pUnit->faction = fac;
**** [t] [num] to change the unit's type
Game::EditGameUnitDetails(Unit *pUnit)
** 3) Create new Unit
Game::EditGameCreateUnit()
**** Fac, LEADER, REGIONS
